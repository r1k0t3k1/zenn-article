---
title: "Nmapを勉強します"
emoji: "📝"
type: "tech"
topics: ["security"]
published: false
---
# 始めに
個人的に最近Hack The Boxに入門したのですが、Writeupなんかを見てるとほぼ100%使用されるNmap。今回はこれについて、使い方を自分が把握するために記事にしようと思います。

# Nmapの概要
Nmap(Network Mapper)とはネットワークのスキャンに用いられるツールです。単体のホストに対してはもちろんですが、大規模なネットワークも高速でスキャンできるように設計されているようです。</br>
取得可能な情報は

- どのようなホストが利用可能になっているか
- ホストで実行されているOS名とバージョン
- ホストのどのポートがOPEN状態か
- そのポートで動いているサービス名、バージョン

などです。  
  
他にも色々取得できる情報はありそうですが、だいたいの場面で上記の情報で事足りんじゃないかと思っています。

# Nmapがポートを分類するカテゴリ
Nmapはポートスキャンの結果、対象ポートがどのような状態かを表示してくれます。あくまでも『Nmapがそのポートをどのように認識しているか』が表示されるのでNmapを実行するホストのネットワーク上の位置などによって結果が変わってくることに注意が必要です。

| 状態 | 詳細 |
| ---- |  ---- |
| open | アプリケーションがそのポートで接続やパケットを待ち受けていることを示す。</br>攻撃者の好物|
| close | ポート上に待ち受け状態のアプリケーションが存在しない。</br>ただしポートにアクセスする事は可能なので後にこのポートが解放された場合はスキャン対象となる。|
| filtered | FWやフィルタなどによりポートが遮断されている状態でNmapがopenかcloseか判断できない状態。</br>FWやフィルタによってパケットが破棄されるとNmapがネットワーク混雑と判断し、再試行を行うのでスキャンのスピードが落ちる。</br>攻撃者にとって一番嫌な状態 |
| unfiltered | ポートにはアクセス可能だがNmapがopenかcloseか判断できない状態。</br>ポートがこの状態に分類されるのはFWルールを解読するために使用されるACKスキャンのみ。</br>この状態のポートに対してその他のスキャンタイプ(window,SYN,FINなど)を使用するとポートがopenかどうかを判断できる場合がある。 |
|open \| filtered| ポートがopenかfilteredかを判別できない状態。</br>openポートからの応答がないタイプのスキャンにはこのケースが発生する可能性がある。</br>スキャンの応答をFWやフィルタが破棄したことを意味する場合もある。 |
|closed \| unfiltered| ポートが閉じているかフィルタ処理されているかをNmapが判断できない場合に用いられる。</br>IPID Idleスキャンにのみ使用される状態。 |

# ポートスキャンのタイプ
# インストール方法


